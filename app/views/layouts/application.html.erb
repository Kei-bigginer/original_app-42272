<!DOCTYPE html>
<html>
  <head>
    <title>dayÃ—day.</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all' %>
    <%= javascript_importmap_tags %>

    <!-- âœ… Bootstrap CSSï¼ˆCDNï¼‰ -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- âœ… Swiper CSSï¼ˆCDNï¼‰ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  </head>

  <body class="layout-bg">

    <!-- ğŸš© ãƒ˜ãƒƒãƒ€ãƒ¼ï¼šã‚¢ãƒ—ãƒªåï¼‹ãƒŠãƒ“ -->
    <header class="header">
      <div class="container">
        <!-- ğŸŒ¸ ã‚¢ãƒ—ãƒªãƒ­ã‚´ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ï¼‰ -->
        <h1>dayÃ—day.</h1>

        <!-- ğŸ§­ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå·¦ä¸Šã®ãƒªãƒ³ã‚¯é¡ï¼‰ -->
        <nav>
          <%= link_to 'ãƒ›ãƒ¼ãƒ ', root_path %> |
          <% if user_signed_in? %>
            <%= link_to 'ãƒã‚¤ãƒšãƒ¼ã‚¸', root_path %> |
            <%= link_to 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ', destroy_user_session_path, method: :delete, data: { confirm: "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ" } %>
          <% else %>
            <%= link_to 'ãƒ­ã‚°ã‚¤ãƒ³', new_user_session_path %> |
            <%= link_to 'æ–°è¦ç™»éŒ²', new_user_registration_path %>
          <% end %>
        </nav>

        <!-- âœ¨ æ©Ÿèƒ½ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆã²ã¨ã“ã¨ãƒ»æ—¥å¸¸ãƒ»ãƒ‡ãƒ¼ãƒˆï¼‰ -->
        <% if user_signed_in? && current_user.pair&.users&.count == 2 %>
          <div class="feature-icons mt-2">
            <%= link_to notes_path, class: "icon-link" do %>
              ğŸ“
            <% end %>
            <%= link_to diaries_path, class: "icon-link" do %>
              ğŸ“·
            <% end %>
            <%= link_to moments_path, class: "icon-link" do %>
              ğŸ’‘
            <% end %>
          </div>
        <% end %>
      </div>
    </header>

    <!-- ğŸ“¦ ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºé ˜åŸŸ -->
    <main class="main">
      <div class="container">
        <%= yield %> <!-- å„ãƒšãƒ¼ã‚¸ã®ä¸­èº«ãŒã“ã“ã«å…¥ã‚‹ -->
      </div>
    </main>

    <!-- ğŸ“Œ ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆå…±é€šï¼‰ -->
    <footer class="footer">
      <div class="container">
        <p>&copy; 2025 dayÃ—day. All rights reserved.</p>
      </div>
    </footer>

    <!-- âœ… Bootstrap JSï¼ˆCDNï¼‰ -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- âœ… Swiper JSï¼ˆCDNï¼‰ -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    
    <!-- âœ… SwiperåˆæœŸåŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆä¸­å¿ƒå¼·èª¿ï¼‹è‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰ -->
    <script>
      // ğŸ“¦ ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾Œã«Swiperã‚’åˆæœŸåŒ–
      document.addEventListener('DOMContentLoaded', function () {
        const swiper = new Swiper(".mySwiper", {
          loop: true,                       // ğŸ” ç„¡é™ãƒ«ãƒ¼ãƒ—å†ç”Ÿ
          slidesPerView: 3,                // ğŸ–¼ ä¸€åº¦ã«è¡¨ç¤ºã™ã‚‹ç”»åƒæšæ•°
          spaceBetween: 10,                // ğŸ§± ã‚¹ãƒ©ã‚¤ãƒ‰é–“ã®ä½™ç™½
          centeredSlides: true,            // ğŸ¯ ä¸­å¤®å¯„ã›ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
          autoplay: {
            delay: 2000,                   // â± è‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®é–“éš”ï¼ˆ2ç§’ï¼‰
            disableOnInteraction: false    // ğŸ–± æ“ä½œå¾Œã‚‚è‡ªå‹•å†ç”Ÿã¯æ­¢ã‚ãªã„
          },
          on: {
            // ğŸŒ€ ã‚¹ãƒ©ã‚¤ãƒ‰åˆ‡ã‚Šæ›¿ãˆæ™‚ã«ä¸­å¿ƒä»¥å¤–ã‚’åŠé€æ˜ã«ã™ã‚‹å‡¦ç†
            slideChangeTransitionEnd: function () {
              const slides = document.querySelectorAll('.swiper-slide');
              slides.forEach((slide, index) => {
                slide.style.opacity = (index === this.realIndex + 1) ? '1' : '0.5'; // ä¸­å¤®ã ã‘ä¸é€æ˜
              });
            }
          }
        });
      });
    </script>

  
  
  </body>
</html>
